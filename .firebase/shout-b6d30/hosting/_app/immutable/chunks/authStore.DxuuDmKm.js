import{w as u}from"./index.Cyf_2U9l.js";import{o as i,b as o,d as l,e as c,f as e,h as d,s as w,j as g,k as f,l as p,m as y}from"./firebase.xiFXEIL6.js";const r=u({isLoading:!0,currentUser:null,userData:null,userRef:null,userType:null});i(e,async s=>{if(s){console.log("user",s);let t=o(l,"users",s.uid);const n=await c(t);if(n.exists()){const a=n.data();r.set({isLoading:!1,currentUser:s,userData:a,userRef:t,userType:a.accountType?a.accountType:null})}else r.set({isLoading:!1,currentUser:s})}else r.set({isLoading:!1,currentUser:null,userData:null})});const D={signup:async(s,t)=>{const a=(await d(e,s,t)).user;r.set({isLoading:!1,currentUser:a})},login:async(s,t)=>{const a=(await w(e,s,t)).user;r.set({isLoading:!1,currentUser:a})},logout:async()=>{await g(e)},resetPassword:async s=>{await f(e,s)},updateEmail:async s=>{await p(e,s)},updatePassword:async s=>{await y(e,s)}};export{r as a,D as b};
