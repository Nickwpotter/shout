import{w as u}from"./index.eg0ioKiZ.js";import{o as i,a as l,d as o,b as d,f as e,h as c,s as w,j as g,k as f,l as p,m as y}from"./firebase.C7CWxqOX.js";const r=u({isLoading:!0,currentUser:null,userData:null,userRef:null,userType:null});i(e,async s=>{if(s){console.log("user",s);let t=l(o,"users",s.uid);const n=await d(t);if(n.exists()){const a=n.data();r.set({isLoading:!1,currentUser:s,userData:a,userRef:t,userType:a.type?a.type:null})}else r.set({isLoading:!1,currentUser:s})}else r.set({isLoading:!1,currentUser:null,userData:null})});const D={signup:async(s,t)=>{const a=(await c(e,s,t)).user;r.set({isLoading:!1,currentUser:a})},login:async(s,t)=>{const a=(await w(e,s,t)).user;r.set({isLoading:!1,currentUser:a})},logout:async()=>{await g(e)},resetPassword:async s=>{await f(e,s)},updateEmail:async s=>{await p(e,s)},updatePassword:async s=>{await y(e,s)}};export{r as a,D as b};
