import{s as $,n as j,r as A,a as z}from"../chunks/scheduler.Cs0xm5t1.js";import{S,i as F,e as f,s as k,c as b,j as y,g as I,b as R,h as U,d as n,f as P,k as s,l as q,m as D}from"../chunks/index.CwXh1Flu.js";import{a as J,c as K,d as W}from"../chunks/firebase.BCwi6t6O.js";function G(h){let t,a,m,c,l,i="Download QR Code",d,w;return{c(){t=f("div"),a=f("img"),c=k(),l=f("button"),l.textContent=i,this.h()},l(u){t=b(u,"DIV",{class:!0});var e=y(t);a=b(e,"IMG",{src:!0,alt:!0,class:!0}),c=R(e),l=b(e,"BUTTON",{class:!0,"data-svelte-h":!0}),I(l)!=="svelte-zdaw06"&&(l.textContent=i),e.forEach(U),this.h()},h(){z(a.src,m=h[2])||n(a,"src",m),n(a,"alt","Generated QR Code"),n(a,"class","w-48 h-48 mx-auto"),n(l,"class","btn btn-secondary mt-4"),n(t,"class","mt-8 p-4 bg-neutral rounded shadow-lg")},m(u,e){P(u,t,e),s(t,a),s(t,c),s(t,l),d||(w=D(l,"click",h[4]),d=!0)},p(u,e){e&4&&!z(a.src,m=u[2])&&n(a,"src",m)},d(u){u&&U(t),d=!1,w()}}}function X(h){let t,a,m="Create QR Code",c,l,i,d,w='<span class="label-text text-black">Base URL</span>',u,e,x,o,_,M='<span class="label-text text-black">Influencer Name</span>',Q,C,N,g,V="Generate QR Code",B,H,O,r=h[2]&&G(h);return{c(){t=f("div"),a=f("h1"),a.textContent=m,c=k(),l=f("div"),i=f("div"),d=f("label"),d.innerHTML=w,u=k(),e=f("input"),x=k(),o=f("div"),_=f("label"),_.innerHTML=M,Q=k(),C=f("input"),N=k(),g=f("button"),g.textContent=V,B=k(),r&&r.c(),this.h()},l(p){t=b(p,"DIV",{class:!0});var v=y(t);a=b(v,"H1",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-q1k0g"&&(a.textContent=m),c=R(v),l=b(v,"DIV",{class:!0});var L=y(l);i=b(L,"DIV",{class:!0});var E=y(i);d=b(E,"LABEL",{class:!0,"data-svelte-h":!0}),I(d)!=="svelte-cy0s56"&&(d.innerHTML=w),u=R(E),e=b(E,"INPUT",{type:!0,class:!0}),E.forEach(U),x=R(L),o=b(L,"DIV",{class:!0});var T=y(o);_=b(T,"LABEL",{class:!0,"data-svelte-h":!0}),I(_)!=="svelte-1cdae4e"&&(_.innerHTML=M),Q=R(T),C=b(T,"INPUT",{type:!0,class:!0}),T.forEach(U),N=R(L),g=b(L,"BUTTON",{class:!0,"data-svelte-h":!0}),I(g)!=="svelte-10i54zb"&&(g.textContent=V),L.forEach(U),B=R(v),r&&r.l(v),v.forEach(U),this.h()},h(){n(a,"class","text-3xl font-bold text-black mb-6"),n(d,"class","label"),n(e,"type","text"),n(e,"class","input input-bordered border-black text-black"),n(i,"class","form-control mb-4"),n(_,"class","label"),n(C,"type","text"),n(C,"class","input input-bordered border-black text-black"),n(o,"class","form-control mb-4"),n(g,"class","btn btn-primary w-full shadow-md"),n(l,"class","w-full max-w-sm shadow-lg rounded-lg p-6 bg-white"),n(t,"class","p-8 bg-base-100 text-black min-h-screen flex flex-col items-center")},m(p,v){P(p,t,v),s(t,a),s(t,c),s(t,l),s(l,i),s(i,d),s(i,u),s(i,e),q(e,h[0]),s(l,x),s(l,o),s(o,_),s(o,Q),s(o,C),q(C,h[1]),s(l,N),s(l,g),s(t,B),r&&r.m(t,null),H||(O=[D(e,"input",h[5]),D(C,"input",h[6]),D(g,"click",h[3])],H=!0)},p(p,[v]){v&1&&e.value!==p[0]&&q(e,p[0]),v&2&&C.value!==p[1]&&q(C,p[1]),p[2]?r?r.p(p,v):(r=G(p),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:j,o:j,d(p){p&&U(t),r&&r.d(),H=!1,A(O)}}}function Y(h,t,a){let m="",c="",l="";const i=async()=>{const e=`${m}?influencer=${encodeURIComponent(c)}`,o=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(e)}&size=200x200&format=png`;console.log(e);try{a(2,l=o),await J(K(W,"qrcodes"),{influencerName:c,url:e})}catch(_){console.error("Error generating QR Code:",_)}},d=()=>{fetch(l).then(e=>e.blob()).then(e=>{const x=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none",o.href=x,o.download="qrcode.png",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(x)}).catch(e=>console.error("Error downloading the QR code:",e))};function w(){m=this.value,a(0,m)}function u(){c=this.value,a(1,c)}return[m,c,l,i,d,w,u]}class le extends S{constructor(t){super(),F(this,t,Y,X,$,{})}}export{le as component};
