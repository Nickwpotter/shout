import{s as X,n as G,c as Z,o as tt}from"../chunks/scheduler.Bnq60-53.js";import{S as et,i as at,e as i,s as S,c as d,a as b,l as z,f as q,d as v,m as M,g as W,h as e,o as ot,p as lt,t as A,b as O,j as Y}from"../chunks/index.Ds0bHGC8.js";import{e as J}from"../chunks/each.D6YF6ztN.js";import{q as nt,w as st,c as rt,g as it,d as dt}from"../chunks/firebase.xiFXEIL6.js";import{a as ct}from"../chunks/authStore.DxuuDmKm.js";import{g as ht}from"../chunks/entry.77B6Ku6h.js";function K(c,t,s){const r=c.slice();return r[4]=t[s],r}function Q(c){let t,s,r="1",T,m,h=c[4].ref.id+"",C,k,f,p=c[4].promotionStartDate+"",_,E,H,I=c[4].promotionDuration+"",D,j,V,g=c[4].influencer.id+"",l,n,u,a=c[4].usageCount+"",y,L,w,R="View",B;return{c(){t=i("tr"),s=i("th"),s.textContent=r,T=S(),m=i("td"),C=A(h),k=S(),f=i("td"),_=A(p),E=S(),H=i("td"),D=A(I),j=S(),V=i("td"),l=A(g),n=S(),u=i("td"),y=A(a),L=S(),w=i("td"),w.textContent=R,B=S()},l(x){t=d(x,"TR",{});var o=b(t);s=d(o,"TH",{"data-svelte-h":!0}),z(s)!=="svelte-728xsj"&&(s.textContent=r),T=q(o),m=d(o,"TD",{});var N=b(m);C=O(N,h),N.forEach(v),k=q(o),f=d(o,"TD",{});var P=b(f);_=O(P,p),P.forEach(v),E=q(o),H=d(o,"TD",{});var U=b(H);D=O(U,I),U.forEach(v),j=q(o),V=d(o,"TD",{});var $=b(V);l=O($,g),$.forEach(v),n=q(o),u=d(o,"TD",{});var F=b(u);y=O(F,a),F.forEach(v),L=q(o),w=d(o,"TD",{"data-svelte-h":!0}),z(w)!=="svelte-1f5k16v"&&(w.textContent=R),B=q(o),o.forEach(v)},m(x,o){W(x,t,o),e(t,s),e(t,T),e(t,m),e(m,C),e(t,k),e(t,f),e(f,_),e(t,E),e(t,H),e(H,D),e(t,j),e(t,V),e(V,l),e(t,n),e(t,u),e(u,y),e(t,L),e(t,w),e(t,B)},p(x,o){o&1&&h!==(h=x[4].ref.id+"")&&Y(C,h),o&1&&p!==(p=x[4].promotionStartDate+"")&&Y(_,p),o&1&&I!==(I=x[4].promotionDuration+"")&&Y(D,I),o&1&&g!==(g=x[4].influencer.id+"")&&Y(l,g),o&1&&a!==(a=x[4].usageCount+"")&&Y(y,a)},d(x){x&&v(t)}}}function ft(c){let t,s,r,T="Your Campaigns",m,h,C="Create new Campaign",k,f,p,_,E,H="<tr><th></th> <th>ID</th> <th>Start Date</th> <th>Duration</th> <th>Influencer</th> <th>Total Transactions</th> <th></th></tr>",I,D,j,V,g=J(c[0]),l=[];for(let n=0;n<g.length;n+=1)l[n]=Q(K(c,g,n));return{c(){t=i("div"),s=i("div"),r=i("h1"),r.textContent=T,m=S(),h=i("button"),h.textContent=C,k=S(),f=i("div"),p=i("div"),_=i("table"),E=i("thead"),E.innerHTML=H,I=S(),D=i("tbody");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){t=d(n,"DIV",{});var u=b(t);s=d(u,"DIV",{class:!0});var a=b(s);r=d(a,"H1",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-1yogril"&&(r.textContent=T),m=q(a),h=d(a,"BUTTON",{class:!0,"data-svelte-h":!0}),z(h)!=="svelte-1t6mqzo"&&(h.textContent=C),a.forEach(v),k=q(u),f=d(u,"DIV",{class:!0});var y=b(f);p=d(y,"DIV",{class:!0});var L=b(p);_=d(L,"TABLE",{class:!0});var w=b(_);E=d(w,"THEAD",{"data-svelte-h":!0}),z(E)!=="svelte-1wiaq7"&&(E.innerHTML=H),I=q(w),D=d(w,"TBODY",{});var R=b(D);for(let B=0;B<l.length;B+=1)l[B].l(R);R.forEach(v),w.forEach(v),L.forEach(v),y.forEach(v),u.forEach(v),this.h()},h(){M(r,"class","text-xl font-bold text-white"),M(h,"class","btn bg-gradient-to-r from-[#833ab4] from-10% via-[#fd1d1d] via-30% to-[#fcb045] to-90% !text-white !rounded-lg border-none shadow-md"),M(s,"class","w-full flex justify-between p-4"),M(_,"class","table text-white"),M(p,"class","overflow-x-auto"),M(f,"class","w-full p-4")},m(n,u){W(n,t,u),e(t,s),e(s,r),e(s,m),e(s,h),e(t,k),e(t,f),e(f,p),e(p,_),e(_,E),e(_,I),e(_,D);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(D,null);j||(V=ot(h,"click",c[2]),j=!0)},p(n,[u]){if(u&1){g=J(n[0]);let a;for(a=0;a<g.length;a+=1){const y=K(n,g,a);l[a]?l[a].p(y,u):(l[a]=Q(y),l[a].c(),l[a].m(D,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=g.length}},i:G,o:G,d(n){n&&v(t),lt(l,n),j=!1,V()}}}function ut(c,t,s){let r;Z(c,ct,C=>s(1,r=C));let T=[];tt(async()=>{await m()});async function m(){const C=nt(rt(dt,"codes"),st("merchant","==",r.userRef)),k=await it(C);s(0,T=k.docs.map(f=>({...f.data(),ref:f.ref}))),console.log("codes",T)}const h=async()=>{await ht("/campaigns/new")};return c.$$.update=()=>{c.$$.dirty&2&&r.userRef&&m()},[T,r,h]}class Ct extends et{constructor(t){super(),at(this,t,ut,ft,X,{})}}export{Ct as component};
